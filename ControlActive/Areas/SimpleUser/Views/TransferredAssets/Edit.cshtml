@model ControlActive.Models.TransferredAsset
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = "Edit";
}

<style>

    .hoverChange:hover{
        color:red;
    }

</style>


    <div class="container-fluid">
            <div class="page-title">
              <div class="row">
                <div class="col-12 col-sm-6">
                  <h3>@Localizer["TransferredAssets"]</h3>
                </div>
                <div class="col-12 col-sm-6">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href=""> <i data-feather="home"></i></a></li>
                    <li class="breadcrumb-item"> </li>
                    <li class="breadcrumb-item active"></li>
                  </ol>
                </div>
              </div>
            </div>
          </div>

    <div class="container-fluid">
        <div class="row">

            <div class="card col-sm-6">
            <div class="card-header pb-0">
                <h5>@Localizer["Edit"]</h5>
            </div>
            <div class="card-body">
                <form asp-action="Edit" method="post" id="main_form" class="theme-form mega-form" enctype="multipart/form-data" asp-route-id="@Model.AssetId">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <input type="hidden" asp-for="AssetId" />
                    <input type="hidden" asp-for="SolutionFileId" />
                    <input type="hidden" asp-for="SolutionFileLink" />
                    <input type="hidden" asp-for="ActAndAssetFileId" />
                    <input type="hidden" asp-for="ActAndAssetFileLink" />
                    <input type="hidden" asp-for="AgreementFileId" />
                    <input type="hidden" asp-for="AggreementFileLink" />
                    <input name="target" value="@ViewBag.Target" hidden />

                    @if (ViewBag.Target == 1)
                    {
                        <div class="mb-3">
                            <label class="col-form-label">
                                @Localizer["RealEstate"]  <span class="required">*</span>
                            </label>
                            <input class="form-control" name="name" required="required" value="@ViewBag.Name" readonly />
                            <input name="id1" value="@ViewBag.Id1" hidden />

                        </div>
                    }

                    @if (ViewBag.Target == 2)
                    {
                        <div class="mb-3">
                            <label class="col-form-label">
                                @Localizer["Share"] <span class="required">*</span>
                            </label>
                            <input class="form-control" name="name" required="required" value="@ViewBag.Name" readonly />
                            <input name="id1" value="@ViewBag.Id1" hidden />

                        </div>

                    }

                    <div class="mb-3">
                        <label class="col-form-label">
                            @Localizer["TransferFormName"] <span class="required">*</span>
                        </label>
                        <select asp-for="TransferFormId" class="form-control" asp-items="ViewBag.TransferFormId" required="required"></select>
                    </div>
                    <hr class="mt-4 mb-4">
                    <h6 class="pb-3 mb-0">@Localizer["AssetGiveInfo"]</h6>
                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["OrgName"] <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="OrgName" class="form-control" required="required" />
                        <span asp-validation-for="OrgName" class="text-danger"></span>

                    </div>
                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["SolutionNumber"]  <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="SolutionNumber" class="form-control" required="required" />
                        <span asp-validation-for="SolutionNumber" class="text-danger"></span>

                    </div>
                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["SolutionDate"]  <span class="required">*</span>
                        </label>
                        <input type="text" asp-for="SolutionDate" class="datepicker-here form-control" required="required" autocomplete="off">
                        <span asp-validation-for="SolutionDate" class="text-danger"></span>
                    </div>
                    <hr class="mt-4 mb-4">
                    <div class="mb-3">
                        <label class="col-form-label">
                            @Localizer["OrgNameOfAsset"]  <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="OrgNameOfAsset" class="form-control" required="required" />
                        <span asp-validation-for="OrgNameOfAsset" class="text-danger"></span>

                    </div>
                    <div class="mb-3">
                        <label class="col-form-label">
                            @Localizer["TotalCost"] <span class="required">*</span>
                        </label>

                        <input id="totalCost" type="text" asp-for="TotalCost" class="form-control" oninput="validity.valid||(value='');" required="required" />
                        <span id="errorMsg" style="display:none; color:red;">@Localizer["MustBePost"] </span>
                        <span asp-validation-for="TotalCost" class="text-danger"></span>

                    </div>
                    <hr class="mt-4 mb-4">
                    <h6 class="pb-3 mb-0">@Localizer["ActInfo"]</h6>

                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["ActAndAssetNumber"] <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="ActAndAssetNumber" class="form-control" required="required" />
                        <span asp-validation-for="ActAndAssetNumber" class="text-danger"></span>

                    </div>
                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["ActAndAssetDate"] <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="ActAndAssetDate" class="datepicker-here form-control" required="required" autocomplete="off">
                        <span asp-validation-for="ActAndAssetDate" class="text-danger"></span>

                    </div>

                    <hr class="mt-4 mb-4">
                    <h6 class="pb-3 mb-0">@Localizer["AgreementInfo"]</h6>

                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["AgreementNumber"]  <span class="required">*</span>
                        </label>

                        <input type="text" asp-for="AgreementNumber" class="form-control" required="required" />
                        <span asp-validation-for="AgreementNumber" class="text-danger"></span>

                    </div>
                    <div class="col-auto">
                        <label class="col-form-label">
                            @Localizer["AgreementDate"] <span class="required">*</span>
                        </label>


                        <input type="text" asp-for="AgreementDate" class="datepicker-here form-control" required="required" autocomplete="off">
                        <span asp-validation-for="AgreementDate" class="text-danger"></span>


                    </div>

                    <div class="card-footer">

                       <button type="submit" class="btn btn-primary">@Localizer["Save"]</button>
                       <button asp-action="Index" class="btn btn-secondary">@Localizer["Back"]</button>
                    </div>

                </form>
            </div>
        </div>

         <div class="col-sm-6">
            <div class="card">
                <div class="card-header pb-0">
                    <h5>@Localizer["files"] </h5>
                </div>
                <div class="card-body">
                    <div class="row gallery my-gallery gallery-with-description" id="aniimated-thumbnials8" itemscope="">
                        <figure class=" img-hover hover-9" itemprop="associatedMedia" itemscope="">
                            <a href="@Model.SolutionFileLink" itemprop="contentUrl" data-size="1600x950">
                                <img src="~/images/document.png" itemprop="thumbnail" alt=" Файл" style="width:300px; height:300px">
                                <div class="caption">
                                    <h4>@Localizer["SolutionFile"]</h4>
                                    <form id="fileform" asp-controller="TransferredAssets" asp-action="ReplaceFile" enctype="multipart/form-data" method="post">

                                        <label style="cursor:pointer;" class="label2 hoverChange" for="upload-file"><i class="fa fa-edit"> @Localizer["Edit"]</i></label>
                                        <input type="file" name="file" id="upload-file" accept=".pdf, application/pdf" onchange="submitForm('fileform')" hidden/>
                                        <input value="@Model.AssetId" name="assetId" hidden />
                                        <input value="@Model.SolutionFileId" name="fileId" hidden />
                                        <input value="0" name="finder" hidden />

                                        <a class="hoverChange" asp-area="SimpleUser" asp-controller="TransferredAssets" asp-action="DownloadFile"
                                           asp-route-id="@Model.SolutionFileId"><i class="fa fa-link"> @Localizer["Download"]</i></a>
                                    </form>
                                </div>
                            </a>


                        </figure>
                        <figure class=" img-hover hover-9" itemprop="associatedMedia" itemscope="">
                            <a href="@Model.AggreementFileLink" itemprop="contentUrl" data-size="1600x950">
                                <img src="~/images/document.png" itemprop="thumbnail" alt=" Файл" style="width:300px; height:300px">
                                <div class="caption">
                                    <h4>@Localizer["AgreementFile"]</h4>

                                    <form id="file2" asp-controller="TransferredAssets" asp-action="ReplaceFile" enctype="multipart/form-data" method="post">

                                        <label style="cursor:pointer" class="label2 hoverChange" for="upload-file2"><i class="fa fa-edit"> @Localizer["Edit"]</i></label>
                                        <input type="file" name="file" id="upload-file2" accept=".pdf, application/pdf" onchange="submitForm('file2')" hidden/>
                                        <input value="@Model.AssetId" name="assetId" hidden />
                                        <input value="@Model.AgreementFileId" name="fileId" hidden />
                                        <input value="2" name="finder" hidden />

                                        <a class="hoverChange" asp-area="SimpleUser" asp-controller="TransferredAssets" asp-action="DownloadFile"
                                           asp-route-id="@Model.AgreementFileId"><i class="fa fa-link"> @Localizer["Download"]</i></a>
                                    </form>
                                </div>
                            </a>

                        </figure>
                        <figure class=" img-hover hover-9" itemprop="associatedMedia" itemscope="">
                            <a href="@Model.ActAndAssetFileLink" itemprop="contentUrl" data-size="1600x950">
                                <img src="~/images/document.png" itemprop="thumbnail" alt=" Файл" style="width:300px; height:300px">
                                <div class="caption">
                                    <h4>@Localizer["ActandAssetFile"]</h4>

                                    <form id="file3" asp-controller="TransferredAssets" asp-action="ReplaceFile" enctype="multipart/form-data" method="post">

                                        <label style="cursor:pointer" class="label2 hoverChange" for="upload-file3"><i class="fa fa-edit"> @Localizer["Edit"]</i></label>
                                        <input type="file" name="file" id="upload-file3" accept=".pdf, application/pdf" onchange="submitForm('file3')" hidden/>
                                        <input value="@Model.AssetId" name="assetId" hidden />
                                        <input value="@Model.ActAndAssetFileId" name="fileId" hidden />
                                        <input value="1" name="finder" hidden />

                                        <a class="hoverChange" asp-area="SimpleUser" asp-controller="TransferredAssets" asp-action="DownloadFile"
                                           asp-route-id="@Model.ActAndAssetFileId"><i class="fa fa-link"> @Localizer["Download"]</i></a>
                                    </form>
                                </div>
                            </a>

                        </figure>
                    </div>
                    <div>
                        <button asp-action="Index" style="float:right" class="btn btn-secondary">@Localizer["Back"]</button>
                    </div>

                </div>
            </div>
        </div>

        </div>
        

    </div>





